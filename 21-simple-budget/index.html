<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21 - Simplified Budget || Advent of JavaScript</title>
    <link rel="stylesheet" href="./styles.css" />
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>

  <body>
    <div class="wrapper" x-data="budget">
      <div class="add-panel">
        <h1>Simplified Budget</h1>
        <div class="field">
          <input type="text" name="income" id="income" @blur="setBudget($el)" />
          <label for="income">Budget Amount</label>
        </div>
        <div class="add-expense">
          <div class="field">
            <input
              type="text"
              name="expense-name"
              id="expense-name"
              x-model="payee"
            />
            <label for="expense-name">Expense</label>
          </div>
          <div class="field">
            <input
              type="text"
              name="expense-amount"
              id="expense-amount"
              x-model="value"
            />
            <label for="expense-amount">Amount</label>
          </div>
          <button
            name="add-expense-button"
            id="add-expense-button"
            class="add-expense-button"
            @click="addExpense"
          >
            <img src="./images/plus.svg" alt="Plus" />
          </button>
        </div>
      </div>

      <div class="expenses-panel">
        <h2>Expenses</h2>
        <div class="expense-table">
          <template x-for="(expense, index) in expenses">
            <div class="expense-item">
              <div class="expense-payee" x-text="expense.payee"></div>
              <div
                class="expense-value"
                x-text="displayDollar(expense.value)"
              ></div>
              <div class="delete">
                <button
                  name="delete-expense"
                  class="delete-expense"
                  @click="removeExpense(index)"
                >
                  <img src="./images/trash.svg" alt="Trash icon" />
                </button>
              </div>
            </div>
          </template>
        </div>
      </div>

      <div class="summary-panel">
        <div class="summary-item">
          <div class="summary-label">Income</div>
          <div class="summary-amount" x-text="displayDollar(income)"></div>
        </div>

        <div class="summary-item">
          <div class="summary-label">Expenses</div>
          <div class="summary-amount" x-text="displayDollar(spent)"></div>
        </div>

        <div class="summary-item">
          <div class="summary-label">Balance</div>
          <div class="summary-amount" x-text="displayDollar(balance)"></div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>

<!-- <div>Starbucks</div>
<div>$5.54</div>
<div class="delete">
  <button name="delete-expense" class="delete-expense">
    <img src="./images/trash.svg" alt="Tash" />
  </button>
</div>

<div>Starbucks</div>
<div>$5.54</div>
<div class="delete">
  <button name="delete-expense" class="delete-expense">
    <img src="./images/trash.svg" alt="Tash" />
  </button>
</div>

<div>Starbucks</div>
<div>$5.54</div>
<div class="delete">
  <button name="delete-expense" class="delete-expense">
    <img src="./images/trash.svg" alt="Tash" />
  </button>
</div> -->
